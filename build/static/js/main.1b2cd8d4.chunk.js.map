{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Filter","handleFilterChange","newFilter","value","onChange","AddInfo","lisaaNimi","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","NumeroLista","personsToShow","handleDeleteButton","map","person","NumeroRivi","onClick","Notification","Message","errorMessage","style","color","backgroundColor","fontSize","border","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","setNewMessage","setErrorMessage","useEffect","personService","initialList","createMessage","tapahtuma","henkilo","setTimeout","createErrorMessage","length","filter","toLowerCase","startsWith","event","target","preventDefault","name","number","some","window","confirm","returnedPerson","catch","error","concat","res","deletePerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1b2cd8d4.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n \r\n  const deleteObj = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n  }\r\n  const update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n \r\n  export default { getAll, create, deleteObj, update}","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\n\nconst Filter = ({handleFilterChange, newFilter}) =>{\n  return(\n    <div>\n      <form>\n        <div>\n          filter shown with: <input value={newFilter}\n          onChange={handleFilterChange}/>\n        </div>\n      </form>\n    </div>\n  )\n}\nconst AddInfo = ({lisaaNimi,newName,newNumber,handleNameChange,handleNumberChange}) => {\n  return(\n    <div>\n      <form onSubmit={lisaaNimi}>\n        <div>\n          name: <input value={newName}\n          onChange={handleNameChange} />\n        </div>\n        <div>\n          number: <input value={newNumber} \n          onChange={handleNumberChange}/>\n          </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nconst NumeroLista = ({personsToShow, handleDeleteButton}) =>{\n  return(\n    <div>\n      <ul>\n      {personsToShow.map(person => <NumeroRivi handleDeleteButton={handleDeleteButton} key={person['name']} person={person}/>)}\n      </ul>\n    </div>\n  )\n}\n\nconst NumeroRivi = ({person,handleDeleteButton}) =>{\n  return(\n    <li>{person['name']} {person['number']} <button onClick={handleDeleteButton} value={person['id']}>delete</button></li>\n  )\n}\n\nconst Notification = ({ Message, errorMessage }) => {\n  const NotificationStyle = {\n    color: 'green',\n    backgroundColor: 'lightGrey',\n    fontSize: 24,\n    border:'4px solid green' \n  }\n  const errorStyle = {\n    color: 'red',\n    backgroundColor: 'lightGrey',\n    fontSize: 24,\n    border:'4px solid red' \n  }\n  if (Message === null && errorMessage===null) {\n    return null\n  }else if(errorMessage===null && Message !== null){\n    return (\n      <div style={NotificationStyle}>\n        {Message}\n      </div>\n    )\n  }else{\n    return (\n      <div style={errorStyle}>\n        {errorMessage}\n      </div>\n    )\n  }\n\n\n}\n\nconst App = () => {\n\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter] = useState('')\n  const [ Message, setNewMessage] = useState(null)\n  const [ errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialList =>{\n        setPersons(initialList)\n      })\n\n  },[])\n\n  const lisaaNimi = (event) => {\n\n    event.preventDefault()\n    const person = {\n      name: newName,\n      number: newNumber,\n    } \n    if(persons.some(person => person['name']===newName)){\n      const answer = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n      if (!answer){\n        return\n      }else{\n        const henkilo = persons.filter(person => person['name']==newName)[0]\n        personService\n          .update(henkilo['id'], person)\n          .then(returnedPerson => {\n          setPersons(persons.map(person=> person.id != henkilo.id ? person : returnedPerson))\n          createMessage('Updated number for', person.name)\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error =>{\n          createErrorMessage(`Information of ${henkilo.name} has already been removed from server`)\n          setPersons(persons.filter(person => person.id != henkilo.id))\n          setNewName('')\n          setNewNumber('')\n        })\n        return\n      }\n    }\n    event.preventDefault()\n    personService\n    .create(person)\n    .then(returnedPerson =>{\n      setPersons(persons.concat(returnedPerson))\n      createMessage('Added', person.name)\n      setNewName('')\n      setNewNumber('')\n    })\n  }\n\n  const deletePerson = id =>{\n    const henkilo = persons.filter(person => person.id==id)[0]\n    const answer = window.confirm(`Delete ${henkilo.name}?`)\n    if (answer==false){\n      return\n    }\n    personService\n    .deleteObj(id)\n    .then(res =>{\n      createMessage('Deleted', henkilo.name)\n      setPersons(persons.filter(person=>person.id!=id))      \n    })\n    .catch(error =>{\n      createErrorMessage(`Information of ${henkilo.name} has already been removed from server`)\n      setPersons(persons.filter(person => person.id != henkilo.id))\n      setNewName('')\n      setNewNumber('')\n    })\n  }\n\n  const createMessage = (tapahtuma, henkilo) =>\n    setNewMessage(`${tapahtuma} ${henkilo}`)\n    setTimeout(() => {\n        setNewMessage(null)\n      }, 5000)\n\n  const createErrorMessage = (tapahtuma) =>\n    setErrorMessage(`${tapahtuma}`)\n    setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)  \n\n  const handleNameChange = (event) =>{\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) =>{\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) =>{\n    setNewFilter(event.target.value)\n  }\n  const handleDeleteButton = (event) =>{\n    deletePerson(event.target.value)\n  }\n\n\n  const personsToShow = newFilter.length===0\n  ? [...persons]\n  : persons.filter(person => person['name'].toLowerCase().startsWith(newFilter.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification Message={Message} errorMessage={errorMessage} />\n      <Filter handleFilterChange={handleFilterChange} newFilter={newFilter}/>\n      <h2>add a new</h2>\n      <AddInfo  lisaaNimi={lisaaNimi}\n                newName={newName}\n                newNumber={newNumber}\n                handleNameChange={handleNameChange}\n                handleNumberChange={handleNumberChange}\n       />\n      <h2>Numbers</h2>\n      <NumeroLista  personsToShow={personsToShow}\n                    handleDeleteButton={handleDeleteButton}\n      />\n    </div>\n  )\n\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n<App />, document.getElementById('root')\n)"],"sourceRoot":""}